(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{85078:function(e,t,s){Promise.resolve().then(s.bind(s,49081))},49081:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return e_}});var a=s(57437),r=s(2265),n=s(25714),l=s(49693);s(44796);var o=s(9883),i=s(62442),c=s(92295),d=s(94900),x=s(35817),u=s(82549),g=s(94136),m=(0,r.memo)(function(e){let{data:t,selected:s}=e,[o,c]=(0,r.useState)(!1),[d,x]=(0,r.useState)(t.label||"Node"),m=(0,r.useCallback)(()=>{t.label=d,c(!1)},[t,d]),h=(0,r.useCallback)(()=>{x(t.label),c(!1)},[t.label]),b=(0,r.useCallback)(e=>{"Enter"===e.key&&m(),"Escape"===e.key&&h()},[m,h]);return(0,a.jsxs)("div",{className:"relative group",children:["data-connector"!==t.type&&(0,a.jsx)(n.HH,{type:"target",position:l.Ly.Left,className:"w-3 h-3 !bg-blue-400 !border-2 !border-white hover:!bg-blue-600 hover:scale-125 transition-all shadow-md",style:{left:-6}}),(0,a.jsxs)("div",{className:"\n          w-72 bg-white rounded-xl p-5 shadow-sm\n          border-2 transition-all duration-200\n          ".concat(s?"border-".concat(t.color,"-500 shadow-lg shadow-").concat(t.color,"-100"):"border-".concat(t.color,"-200 hover:border-").concat(t.color,"-300"),"\n        "),style:{borderColor:s?"var(--color-".concat(t.color,"-500, #3b82f6)"):"var(--color-".concat(t.color,"-200, #e5e7eb)")},children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,a.jsx)("div",{className:"text-3xl flex-shrink-0 mt-0.5",children:t.icon}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:o?(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("input",{type:"text",value:d,onChange:e=>x(e.target.value),onKeyDown:b,className:"flex-1 px-2 py-1 text-base font-bold border-2 border-blue-400 rounded bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-300",autoFocus:!0}),(0,a.jsx)("button",{onClick:m,className:"p-1.5 text-green-600 hover:bg-green-50 rounded transition-colors",title:"Save",children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:h,className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Cancel",children:(0,a.jsx)(u.Z,{className:"h-4 w-4"})})]}):(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-base font-bold text-gray-900 truncate",children:d}),(0,a.jsx)("button",{onClick:()=>c(!0),className:"opacity-0 group-hover:opacity-100 p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded transition-all",title:"Rename node",children:(0,a.jsx)(g.Z,{className:"h-3.5 w-3.5"})})]})})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed mb-3 min-h-[2.5rem]",children:t.description}),(0,a.jsxs)("div",{className:"text-xs italic text-gray-400 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:"Completed"===t.state?"#10b981":"Running"===t.state?"#3b82f6":"Error"===t.state?"#ef4444":"#9ca3af"}}),t.state]})]}),"action-executor"!==t.type&&(0,a.jsx)(n.HH,{type:"source",position:l.Ly.Right,className:"w-3 h-3 !bg-green-400 !border-2 !border-white hover:!bg-green-600 hover:scale-125 transition-all shadow-md",style:{right:-6}})]})});let h={card:m},b="sailo-workflow-state",p=()=>[{id:"data-connector-1",type:"card",position:{x:100,y:150},data:{label:"Data Connector",icon:"\uD83D\uDD0C",description:"OAuth or key-based connection to Supabase, PostHog, or BigQuery for secure data access.",state:"Idle",type:"data-connector",color:"blue"}},{id:"schema-interpreter-1",type:"card",position:{x:450,y:150},data:{label:"Schema Interpreter",icon:"\uD83E\uDDE0",description:"LLM agent that identifies key entities like users, events, and sessions from raw schemas.",state:"Idle",type:"schema-interpreter",color:"purple"}},{id:"monitor-builder-1",type:"card",position:{x:800,y:150},data:{label:"Monitor Builder",icon:"⚙️",description:"Translates natural language into SQL queries and scheduled monitoring jobs.",state:"Running",type:"monitor-builder",color:"green"}},{id:"action-executor-1",type:"card",position:{x:1150,y:150},data:{label:"Action Executor",icon:"\uD83D\uDD14",description:"Triggers notifications via Slack, email, or API calls when conditions are met.",state:"Idle",type:"action-executor",color:"red"}}],y=()=>[{id:"e1-2",source:"data-connector-1",target:"schema-interpreter-1",type:"smoothstep",style:{stroke:"#d1d5db",strokeWidth:2}},{id:"e2-3",source:"schema-interpreter-1",target:"monitor-builder-1",type:"smoothstep",style:{stroke:"#d1d5db",strokeWidth:2}},{id:"e3-4",source:"monitor-builder-1",target:"action-executor-1",type:"smoothstep",style:{stroke:"#d1d5db",strokeWidth:2}}],f={"data-connector":{label:"Data Connector",icon:"\uD83D\uDD0C",description:"OAuth or key-based connection to Supabase, PostHog, or BigQuery for secure data access.",color:"blue",allowMultiple:!0},"schema-interpreter":{label:"Schema Interpreter",icon:"\uD83E\uDDE0",description:"LLM agent that identifies key entities like users, events, and sessions from raw schemas.",color:"purple",allowMultiple:!1},"monitor-builder":{label:"Monitor Builder",icon:"⚙️",description:"Translates natural language into SQL queries and scheduled monitoring jobs.",color:"green",allowMultiple:!1},"action-executor":{label:"Action Executor",icon:"\uD83D\uDD14",description:"Triggers notifications via Slack, email, or API calls when conditions are met.",color:"red",allowMultiple:!0}};function j(e){let{onNodeSelect:t}=e,[s,u,g]=(0,n.Rr)(p()),[m,j,v]=(0,n.ll)(y()),[N,w]=(0,r.useState)(6),[k,C]=(0,r.useState)(!1),[S,D]=(0,r.useState)(!1),[A,T]=(0,r.useState)("idle");(0,r.useEffect)(()=>{if(!S){try{let e=localStorage.getItem(b);if(e){let t=JSON.parse(e);t.nodes&&u(t.nodes),t.edges&&j(t.edges)}}catch(e){console.warn("Failed to load workflow state from localStorage")}D(!0)}},[S,u,j]),(0,r.useEffect)(()=>{if(S)try{localStorage.setItem(b,JSON.stringify({nodes:s,edges:m}))}catch(e){console.warn("Failed to save workflow state to localStorage")}},[s,m,S]);let I=(0,r.useCallback)(e=>{j(t=>(0,l.Z_)({...e,type:"smoothstep",style:{stroke:"#d1d5db",strokeWidth:2}},t))},[j]),E=(0,r.useCallback)((e,s)=>{null==t||t(s)},[t]),_=(0,r.useCallback)(()=>{null==t||t(null),C(!1)},[t]),Z=(0,r.useCallback)(e=>{let t=f[e];if(!t.allowMultiple){let a=s.find(t=>t.data.type===e);if(a){alert("Only one ".concat(t.label," is allowed. A ").concat(t.label," already exists in the workflow."));return}}let a={id:"".concat(e,"-").concat(N),type:"card",position:{x:600*Math.random()+300,y:300*Math.random()+150},data:{label:t.label,icon:t.icon,description:t.description,state:"Idle",type:e,color:t.color}};u(e=>[...e,a]),w(e=>e+1),C(!1)},[N,u,s]),R=(0,r.useCallback)(e=>{console.log("Deleted nodes:",e.map(e=>e.data.label))},[]),q=(0,r.useCallback)(e=>{console.log("Deleted edges:",e.map(e=>e.id))},[]),P=(0,r.useCallback)(()=>{T("saving");try{let e={nodes:s,edges:m,savedAt:new Date().toISOString()};localStorage.setItem(b,JSON.stringify(e)),T("saved"),setTimeout(()=>T("idle"),2e3)}catch(e){console.error("Failed to save workflow:",e),T("idle")}},[s,m]),U=(0,r.useCallback)(()=>{let e={nodes:s,edges:m,exportedAt:new Date().toISOString(),version:"1.0"},t=JSON.stringify(e,null,2),a=new Blob([t],{type:"application/json"}),r=URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download="workflow-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)},[s,m]),F=(0,r.useCallback)(async()=>{try{let e=s.map(e=>({...e,type:e.data.type,data:{...e.data,config:e.data.config||{}}})),t=await fetch("/api/workflow/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workflowId:"workflow-".concat(Date.now()),nodes:e,edges:m})}),a=await t.json();a.success?alert("✅ Workflow executed successfully!\n\nExecution ID: ".concat(a.execution.id,"\nStatus: ").concat(a.execution.status,"\nDuration: ").concat(Math.round((new Date(a.execution.completedAt).getTime()-new Date(a.execution.startedAt).getTime())/1e3),"s\n\nCheck your Slack for notifications!")):alert("❌ Workflow execution failed:\n".concat(a.error||"Unknown error"))}catch(e){alert("❌ Execution failed: ".concat(e))}},[s,m]);return(0,a.jsx)("div",{className:"w-full h-full bg-gray-50",children:(0,a.jsxs)(n.x$,{nodes:s,edges:m,onNodesChange:g,onEdgesChange:v,onConnect:I,onNodeClick:E,onPaneClick:_,onNodesDelete:R,onEdgesDelete:q,nodeTypes:h,fitView:!0,fitViewOptions:{padding:.2},className:"bg-gray-50",deleteKeyCode:["Backspace","Delete"],multiSelectionKeyCode:"Meta",selectionKeyCode:"Shift",defaultEdgeOptions:{type:"smoothstep",style:{stroke:"#d1d5db",strokeWidth:2}},children:[(0,a.jsx)(n.Aq,{variant:n.T7.Dots,gap:20,size:.5,color:"#d1d5db",className:"bg-gray-50"}),(0,a.jsx)(n.ZX,{className:"bg-white border border-gray-200 rounded-lg shadow-sm",showInteractive:!1}),(0,a.jsx)(n.a9,{nodeColor:e=>{let t=e.data;return({blue:"#3b82f6",purple:"#9333ea",green:"#10b981",red:"#ef4444",indigo:"#6366f1",gray:"#6b7280"})[null==t?void 0:t.color]||"#6b7280"},className:"bg-white border border-gray-200 rounded-lg shadow-sm",maskColor:"rgb(249, 250, 251, 0.8)"}),(0,a.jsx)(n.s_,{position:"top-right",className:"m-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>C(!k),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-lg transition-colors",title:"Add new node",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),"Add Module"]}),k&&(0,a.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-72 bg-white border border-gray-200 rounded-lg shadow-xl overflow-hidden z-50",children:[(0,a.jsxs)("div",{className:"p-3 bg-gray-50 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide mb-1",children:"Select Module Type"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"All modules have connection points to link workflows"})]}),(0,a.jsx)("div",{className:"py-1",children:Object.entries(f).map(e=>{let[t,r]=e,n=!r.allowMultiple&&s.some(e=>e.data.type===t);return(0,a.jsxs)("button",{onClick:()=>Z(t),disabled:n,className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors flex items-start gap-3 ".concat(n?"opacity-50 cursor-not-allowed":""),children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"text-2xl",children:r.icon}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:["data-connector"!==t&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400 border border-white",title:"Input"}),"action-executor"!==t&&(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400 border border-white",title:"Output"})]})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:r.label}),!r.allowMultiple&&(0,a.jsx)("span",{className:"text-xs px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded",children:n?"Already added":"Single only"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2",children:r.description})]})]},t)})}),(0,a.jsx)("div",{className:"p-2 bg-gray-50 border-t border-gray-200",children:(0,a.jsx)("button",{onClick:()=>C(!1),className:"w-full text-xs text-gray-600 hover:text-gray-900 py-1",children:"Cancel"})})]})]})}),(0,a.jsx)(n.s_,{position:"top-left",className:"m-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-2.5 shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-700 font-medium",children:[s.length," modules"]}),(0,a.jsx)("span",{className:"text-gray-300",children:"|"}),(0,a.jsxs)("span",{className:"text-gray-600",children:[m.length," connections"]})]})}),(0,a.jsx)("button",{onClick:P,disabled:"saving"===A,className:"flex items-center gap-2 px-4 py-2.5 rounded-lg shadow-sm transition-all text-sm font-medium ".concat("saved"===A?"bg-green-600 text-white":"saving"===A?"bg-gray-300 text-gray-600 cursor-wait":"bg-blue-600 hover:bg-blue-700 text-white"),title:"Save workflow to browser storage",children:"saved"===A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{className:"h-4 w-4"}),"Saved"]}):"saving"===A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{className:"h-4 w-4 animate-pulse"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),"Save Workflow"]})}),(0,a.jsxs)("button",{onClick:F,className:"flex items-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg shadow-sm transition-colors text-sm font-medium",title:"Execute the complete workflow",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),"Execute Workflow"]}),(0,a.jsxs)("button",{onClick:U,className:"flex items-center gap-2 px-3 py-2.5 bg-white border border-gray-200 hover:bg-gray-50 text-gray-700 rounded-lg shadow-sm transition-colors text-sm font-medium",title:"Export workflow as JSON file",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4"}),"Export"]})]})}),(0,a.jsx)(n.s_,{position:"bottom-left",className:"m-4",children:(0,a.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3 shadow-sm max-w-sm",children:(0,a.jsxs)("div",{className:"text-xs text-gray-500 space-y-1.5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Drag"})," nodes to reposition"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Click"})," node to view details"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Click"})," edit icon to rename"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Drag"})," from",(0,a.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-green-400 border border-white"}),"(output) to",(0,a.jsx)("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-400 border border-white"}),"(input) to connect"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Delete/Backspace"})," to remove selected"]}),(0,a.jsxs)("div",{className:"pt-1 mt-1 border-t border-gray-200 space-y-1",children:[(0,a.jsx)("div",{className:"text-gray-600",children:"\uD83D\uDCA1 All new nodes can be connected to build your workflow"}),(0,a.jsx)("div",{className:"text-gray-600",children:'\uD83D\uDCBE Click "Save Workflow" to persist your changes'})]})]})})})]})})}var v=s(29409);function N(e){var t,s,n,l,o,i,x,u,g,m,h,b,p,y,f,j,N,w,k,C,S;let{node:D,onClose:A,onUpdate:T}=e;if(!D)return null;let I=D.data,[E,_]=(0,r.useState)({connectionType:(null===(t=I.config)||void 0===t?void 0:t.connectionType)||"supabase",endpoint:(null===(s=I.config)||void 0===s?void 0:s.endpoint)||"",apiKey:(null===(n=I.config)||void 0===n?void 0:n.apiKey)||"",database:(null===(l=I.config)||void 0===l?void 0:l.database)||"",host:(null===(o=I.config)||void 0===o?void 0:o.host)||"",port:(null===(i=I.config)||void 0===i?void 0:i.port)||5432,username:(null===(x=I.config)||void 0===x?void 0:x.username)||"",password:(null===(u=I.config)||void 0===u?void 0:u.password)||"",projectId:(null===(g=I.config)||void 0===g?void 0:g.projectId)||"",datasetId:(null===(m=I.config)||void 0===m?void 0:m.datasetId)||"",credentials:(null===(h=I.config)||void 0===h?void 0:h.credentials)||"",model:(null===(b=I.config)||void 0===b?void 0:b.model)||"gpt-4",temperature:(null===(p=I.config)||void 0===p?void 0:p.temperature)||.7,schemaDetected:(null===(y=I.config)||void 0===y?void 0:y.schemaDetected)||"",cronExpression:(null===(f=I.config)||void 0===f?void 0:f.cronExpression)||"0 */6 * * *",queryType:(null===(j=I.config)||void 0===j?void 0:j.queryType)||"count",condition:(null===(N=I.config)||void 0===N?void 0:N.condition)||"",actionType:(null===(w=I.config)||void 0===w?void 0:w.actionType)||"slack",slackWebhook:(null===(k=I.config)||void 0===k?void 0:k.slackWebhook)||"",emailRecipients:(null===(C=I.config)||void 0===C?void 0:C.emailRecipients)||"",message:(null===(S=I.config)||void 0===S?void 0:S.message)||""});return(0,a.jsxs)("div",{className:"bg-white flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-blue-50 border-b border-blue-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:I.icon}),(0,a.jsx)("h2",{className:"text-base font-bold text-gray-900",children:I.label})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"Completed"===I.state?"#10b981":"Running"===I.state?"#3b82f6":"Error"===I.state?"#ef4444":"#9ca3af"}}),(0,a.jsx)("span",{className:"text-xs text-gray-600",children:I.state})]})]}),(0,a.jsxs)("div",{className:"overflow-y-auto p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Status"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"Completed"===I.state?"#10b981":"Running"===I.state?"#3b82f6":"Error"===I.state?"#ef4444":"#9ca3af"}}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:I.state})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Description"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 leading-relaxed",children:I.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-2",children:"Module Type"}),(0,a.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:I.type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-3",children:"Configuration"}),"data-connector"===I.type&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Connection Type"}),(0,a.jsxs)("select",{value:E.connectionType,onChange:e=>_({...E,connectionType:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"supabase",children:"Supabase (REST API)"}),(0,a.jsx)("option",{value:"posthog",children:"PostHog (REST API)"}),(0,a.jsx)("option",{value:"bigquery",children:"BigQuery (GCP)"}),(0,a.jsx)("option",{value:"postgresql",children:"PostgreSQL (Direct)"}),(0,a.jsx)("option",{value:"mysql",children:"MySQL (Direct)"})]})]}),("supabase"===E.connectionType||"posthog"===E.connectionType)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Endpoint URL"}),(0,a.jsx)("input",{type:"text",value:E.endpoint,onChange:e=>_({...E,endpoint:e.target.value}),placeholder:"supabase"===E.connectionType?"https://xyz.supabase.co":"https://app.posthog.com",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"supabase"===E.connectionType?"API Key (anon/service_role)":"Personal API Key"}),(0,a.jsx)("input",{type:"password",value:E.apiKey,onChange:e=>_({...E,apiKey:e.target.value}),placeholder:"••••••••••••••••",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),"supabase"===E.connectionType&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Database Name (optional)"}),(0,a.jsx)("input",{type:"text",value:E.database,onChange:e=>_({...E,database:e.target.value}),placeholder:"postgres",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),("postgresql"===E.connectionType||"mysql"===E.connectionType)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Host"}),(0,a.jsx)("input",{type:"text",value:E.host,onChange:e=>_({...E,host:e.target.value}),placeholder:"db.example.com",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Port"}),(0,a.jsx)("input",{type:"number",value:E.port,onChange:e=>_({...E,port:parseInt(e.target.value)}),placeholder:"postgresql"===E.connectionType?"5432":"3306",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Username"}),(0,a.jsx)("input",{type:"text",value:E.username,onChange:e=>_({...E,username:e.target.value}),placeholder:"db_user",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Password"}),(0,a.jsx)("input",{type:"password",value:E.password,onChange:e=>_({...E,password:e.target.value}),placeholder:"••••••••••••••••",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Database Name"}),(0,a.jsx)("input",{type:"text",value:E.database,onChange:e=>_({...E,database:e.target.value}),placeholder:"my_database",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),"bigquery"===E.connectionType&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Project ID"}),(0,a.jsx)("input",{type:"text",value:E.projectId,onChange:e=>_({...E,projectId:e.target.value}),placeholder:"my-gcp-project",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Dataset ID"}),(0,a.jsx)("input",{type:"text",value:E.datasetId,onChange:e=>_({...E,datasetId:e.target.value}),placeholder:"my_dataset",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Service Account JSON"}),(0,a.jsx)("textarea",{value:E.credentials,onChange:e=>_({...E,credentials:e.target.value}),placeholder:'{"type":"service_account",...}',className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",rows:4})]})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-blue-800",children:[(0,a.jsx)("strong",{children:"Note:"})," ","supabase"===E.connectionType?"Get your API keys from Supabase dashboard > Settings > API":"posthog"===E.connectionType?"Create a personal API key in PostHog Settings > My Account":"bigquery"===E.connectionType?"Upload your GCP service account JSON credentials":"Ensure your database allows connections from this server"]})})]}),"schema-interpreter"===I.type&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"LLM Model"}),(0,a.jsxs)("select",{value:E.model,onChange:e=>_({...E,model:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"gpt-4",children:"GPT-4 (Most Accurate)"}),(0,a.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo (Fast)"}),(0,a.jsx)("option",{value:"claude-3-opus",children:"Claude 3 Opus"}),(0,a.jsx)("option",{value:"claude-3-sonnet",children:"Claude 3 Sonnet"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-xs text-gray-600 mb-1.5",children:["Temperature (",E.temperature,")"]}),(0,a.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:E.temperature,onChange:e=>_({...E,temperature:parseFloat(e.target.value)}),className:"w-full"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[(0,a.jsx)("span",{children:"Precise"}),(0,a.jsx)("span",{children:"Creative"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Detected Schema (Read-only)"}),(0,a.jsx)("textarea",{value:E.schemaDetected||"No schema detected yet. Connect a data source to begin analysis.",readOnly:!0,className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm bg-gray-50 text-gray-600",rows:4})]})]}),"monitor-builder"===I.type&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Cron Expression"}),(0,a.jsxs)("select",{value:E.cronExpression,onChange:e=>_({...E,cronExpression:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"*/5 * * * *",children:"Every 5 minutes"}),(0,a.jsx)("option",{value:"*/15 * * * *",children:"Every 15 minutes"}),(0,a.jsx)("option",{value:"0 * * * *",children:"Every hour"}),(0,a.jsx)("option",{value:"0 */6 * * *",children:"Every 6 hours"}),(0,a.jsx)("option",{value:"0 0 * * *",children:"Daily at midnight"}),(0,a.jsx)("option",{value:"0 9 * * 1",children:"Weekly on Monday at 9am"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Query Type"}),(0,a.jsxs)("select",{value:E.queryType,onChange:e=>_({...E,queryType:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"count",children:"Count Records"}),(0,a.jsx)("option",{value:"sum",children:"Sum Values"}),(0,a.jsx)("option",{value:"average",children:"Calculate Average"}),(0,a.jsx)("option",{value:"threshold",children:"Threshold Check"}),(0,a.jsx)("option",{value:"change",children:"Detect Change"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Condition / Threshold"}),(0,a.jsx)("input",{type:"text",value:E.condition,onChange:e=>_({...E,condition:e.target.value}),placeholder:"e.g., > 100 or < 50%",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,a.jsxs)("p",{className:"text-xs text-blue-800",children:[(0,a.jsx)("strong",{children:"Next run:"})," ",new Date(Date.now()+216e5).toLocaleString()]})})]}),"action-executor"===I.type&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Action Type"}),(0,a.jsxs)("select",{value:E.actionType,onChange:e=>_({...E,actionType:e.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,a.jsx)("option",{value:"slack",children:"Slack Notification"}),(0,a.jsx)("option",{value:"email",children:"Email Alert"}),(0,a.jsx)("option",{value:"webhook",children:"Custom Webhook"}),(0,a.jsx)("option",{value:"hubspot",children:"HubSpot Event"}),(0,a.jsx)("option",{value:"api",children:"API Call"})]})]}),"slack"===E.actionType&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Slack Webhook URL"}),(0,a.jsx)("input",{type:"text",value:E.slackWebhook,onChange:e=>_({...E,slackWebhook:e.target.value}),placeholder:"https://hooks.slack.com/services/...",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Message Template"}),(0,a.jsx)("textarea",{value:E.message,onChange:e=>_({...E,message:e.target.value}),placeholder:"\uD83D\uDEA8 Alert: {{condition}} detected at {{timestamp}}",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]}),"email"===E.actionType&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Email Recipients (comma-separated)"}),(0,a.jsx)("input",{type:"text",value:E.emailRecipients,onChange:e=>_({...E,emailRecipients:e.target.value}),placeholder:"team@example.com, alerts@example.com",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1.5",children:"Email Template"}),(0,a.jsx)("textarea",{value:E.message,onChange:e=>_({...E,message:e.target.value}),placeholder:"Alert triggered: {{details}}",className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-3",children:"Actions"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("button",{onClick:()=>{T&&T(D.id,{config:E})},className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),"Save Configuration"]}),(0,a.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors text-sm font-medium",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),"Test Connection"]}),(0,a.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 border border-gray-200 hover:bg-gray-50 text-gray-700 rounded-lg transition-colors text-sm font-medium",children:[(0,a.jsx)(v.Z,{className:"h-4 w-4"}),"Advanced Settings"]})]})]}),(0,a.jsx)("div",{className:"pt-3 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Node ID:"}),(0,a.jsx)("span",{className:"font-mono text-gray-700",children:D.id})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Position:"}),(0,a.jsxs)("span",{className:"font-mono text-gray-700",children:["(",Math.round(D.position.x),", ",Math.round(D.position.y),")"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Type:"}),(0,a.jsx)("span",{className:"text-gray-700",children:I.type})]})]})})]})]})}var w=s(17158),k=s(81291),C=s(2882),S=s(76020);function D(){let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(!0),[o,i]=(0,r.useState)([{id:"1",role:"assistant",content:"Welcome to your Workflow Builder! I can help you configure nodes, create workflows, and answer questions about your data pipeline.",timestamp:new Date}]),[c,d]=(0,r.useState)(""),x=()=>{if(!c.trim())return;let e={id:Date.now().toString(),role:"user",content:c,timestamp:new Date};i(t=>[...t,e]),d(""),setTimeout(()=>{let e={id:(Date.now()+1).toString(),role:"assistant",content:"I understand you want to work on your workflow. How can I help you configure this pipeline?",timestamp:new Date};i(t=>[...t,e])},500)};return(0,a.jsx)(n.tV,{children:(0,a.jsxs)("div",{className:"relative h-screen bg-gray-50 flex",children:[(0,a.jsx)("div",{className:"flex-1 transition-all duration-300",style:{marginRight:s?"400px":"0px"},children:(0,a.jsx)(j,{onNodeSelect:e=>{if(t(e),e&&!s&&l(!0),e){let t=e.data,s={id:Date.now().toString(),role:"assistant",content:"You selected **".concat(t.label,"**\n\n").concat(t.description,"\n\nCurrent state: ").concat(t.state,"\n\nYou can now configure this module's settings in the panel above."),timestamp:new Date};i(e=>[...e,s])}}})}),(0,a.jsxs)("div",{className:"fixed right-0 top-0 bottom-0 bg-white border-l border-gray-200 shadow-xl transition-all duration-300 flex flex-col z-50 ".concat(s?"w-96":"w-12"),children:[(0,a.jsx)("button",{onClick:()=>l(!s),className:"absolute -left-10 top-4 w-10 h-10 bg-white border border-gray-200 rounded-l-lg shadow-md flex items-center justify-center hover:bg-gray-50 transition-colors",title:s?"Collapse chat":"Expand chat",children:s?(0,a.jsx)(w.Z,{className:"h-5 w-5 text-gray-600"}):(0,a.jsx)(k.Z,{className:"h-5 w-5 text-gray-600"})}),s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)("h2",{className:"font-semibold text-gray-900",children:"Workflow Assistant"})]}),e&&(0,a.jsx)("button",{onClick:()=>t(null),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Close node details",children:(0,a.jsx)(u.Z,{className:"h-4 w-4 text-gray-500"})})]}),e&&(0,a.jsx)("div",{className:"border-b border-gray-200 max-h-[60vh] overflow-y-auto",children:(0,a.jsx)(N,{node:e,onClose:()=>t(null),onUpdate:(t,s)=>{var a;console.log("Updating node:",t,s);let r={id:Date.now().toString(),role:"assistant",content:"✅ Configuration saved for **".concat(null===(a=null==e?void 0:e.data)||void 0===a?void 0:a.label,"**!\n\nYour settings have been updated successfully."),timestamp:new Date};i(e=>[...e,r])}})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:o.map(e=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"max-w-[85%] rounded-lg px-4 py-2 ".concat("user"===e.role?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:[(0,a.jsx)("div",{className:"text-sm whitespace-pre-wrap",children:e.content}),(0,a.jsx)("div",{className:"text-xs mt-1 ".concat("user"===e.role?"text-blue-100":"text-gray-500"),children:e.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id))}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-200 bg-white",children:(0,a.jsxs)("div",{className:"flex items-end gap-2",children:[(0,a.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&x()},placeholder:"Ask about your workflow... (⌘+Enter to send)",className:"flex-1 resize-none border border-gray-200 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2}),(0,a.jsx)("button",{onClick:x,disabled:!c.trim(),className:"p-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 text-white rounded-lg transition-colors",title:"Send message",children:(0,a.jsx)(S.Z,{className:"h-4 w-4"})})]})})]}):(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,a.jsx)(C.Z,{className:"h-6 w-6 text-gray-400 rotate-90"})})]})]})})}var A=s(97332),T=s(85790),I=s(11981),E=s(92455),_=s(9224),Z=s(83523),R=s(56224),q=s(61720),P=s(45253),U=s(38227),F=s(16573),K=s(24235),L=s(50039),O=s(86812),M=s(79857),W=s(19223),B=s(44909),H=s(31346),Q=s(57703),z=s(28485),G=s(36612);let J=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function V(e){let{data:t,chartType:s,config:r,title:n}=e;return t&&0!==t.length?(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 border border-gray-700",children:[n&&(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-100 mb-4",children:n}),(()=>{switch(s){case"line":return(0,a.jsx)(P.h,{width:"100%",height:400,children:(0,a.jsxs)(U.w,{data:t,children:[(0,a.jsx)(F.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,a.jsx)(K.K,{dataKey:r.xAxis,stroke:"#9CA3AF",fontSize:12}),(0,a.jsx)(L.B,{stroke:"#9CA3AF",fontSize:12}),(0,a.jsx)(O.u,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,a.jsx)(M.D,{}),(0,a.jsx)(W.x,{type:"monotone",dataKey:r.dataKey,stroke:"#0088FE",strokeWidth:2,dot:{fill:"#0088FE",strokeWidth:2,r:4}})]})});case"bar":return(0,a.jsx)(P.h,{width:"100%",height:400,children:(0,a.jsxs)(B.v,{data:t,children:[(0,a.jsx)(F.q,{strokeDasharray:"3 3",stroke:"#374151"}),(0,a.jsx)(K.K,{dataKey:r.xAxis,stroke:"#9CA3AF",fontSize:12}),(0,a.jsx)(L.B,{stroke:"#9CA3AF",fontSize:12}),(0,a.jsx)(O.u,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),(0,a.jsx)(M.D,{}),(0,a.jsx)(H.$,{dataKey:r.dataKey,fill:"#00C49F",radius:[4,4,0,0]})]})});case"pie":return(0,a.jsx)(P.h,{width:"100%",height:400,children:(0,a.jsxs)(Q.u,{children:[(0,a.jsx)(z.b,{data:t,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:s}=e;return"".concat(t," ").concat((100*s).toFixed(0),"%")},outerRadius:120,fill:"#8884d8",dataKey:r.dataKey,children:t.map((e,t)=>(0,a.jsx)(G.b,{fill:J[t%J.length]},"cell-".concat(t)))}),(0,a.jsx)(O.u,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}})]})});default:var e;return(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"min-w-full bg-gray-800 rounded-lg",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{className:"bg-gray-700",children:null===(e=r.columns)||void 0===e?void 0:e.map(e=>(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:e.replace(/_/g," ")},e))})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-700",children:t.slice(0,50).map((e,t)=>{var s;return(0,a.jsx)("tr",{className:"hover:bg-gray-700",children:null===(s=r.columns)||void 0===s?void 0:s.map(t=>(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:"number"==typeof e[t]?e[t].toLocaleString():String(e[t]||"-")},t))},t)})})]}),t.length>50&&(0,a.jsxs)("p",{className:"text-gray-400 text-sm mt-2 text-center",children:["Showing first 50 of ",t.length," rows"]})]})}})()]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-64 bg-gray-800 rounded-lg",children:(0,a.jsx)("p",{className:"text-gray-400",children:"No data to display"})})}function Y(e){let{result:t,onFollowUp:s,onPin:n,followUpSuggestions:l=[]}=e,[o,i]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),x=async()=>{await navigator.clipboard.writeText(t.sql),d(!0),setTimeout(()=>d(!1),2e3)};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-blue-900/20 border border-blue-700/30 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-blue-100",children:t.explanation})}),(0,a.jsx)(V,{data:t.data,chartType:t.chartType||"table",config:t.chartConfig}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg border border-gray-700",children:[(0,a.jsxs)("button",{onClick:()=>i(!o),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-700 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-gray-300",children:"SQL Query"})]}),o?(0,a.jsx)(_.Z,{className:"h-4 w-4 text-gray-400"}):(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-gray-400"})]}),o&&(0,a.jsxs)("div",{className:"border-t border-gray-700 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"Generated SQL"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{onClick:x,className:"flex items-center space-x-1 text-xs text-gray-400 hover:text-gray-300",children:[(0,a.jsx)(R.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:c?"Copied!":"Copy"})]}),n&&(0,a.jsxs)("button",{onClick:()=>n(t),className:"flex items-center space-x-1 text-xs text-gray-400 hover:text-gray-300",children:[(0,a.jsx)(q.Z,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"Pin"})]})]})]}),(0,a.jsx)("pre",{className:"bg-gray-900 p-3 rounded text-sm text-gray-300 overflow-x-auto",children:(0,a.jsx)("code",{children:t.sql})})]})]}),l.length>0&&(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Follow-up questions:"}),(0,a.jsx)("div",{className:"space-y-2",children:l.map((e,t)=>(0,a.jsx)("button",{onClick:()=>null==s?void 0:s(e),className:"block w-full text-left p-2 text-sm text-gray-400 hover:text-gray-300 hover:bg-gray-700 rounded transition-colors",children:e},t))})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:[t.data.length," row",1!==t.data.length?"s":""," returned"]}),(0,a.jsxs)("span",{children:["Chart type: ",t.chartType||"table"]})]})]})}var X=s(45479),$=s(13008),ee=s(82104),et=s(6141);let es={supabase:{name:"Supabase",description:"PostgreSQL database with real-time features",icon:"\uD83D\uDFE2"},postgresql:{name:"PostgreSQL",description:"Open source relational database",icon:"\uD83D\uDC18"},bigquery:{name:"BigQuery",description:"Google Cloud data warehouse",icon:"\uD83D\uDCCA"},posthog:{name:"PostHog",description:"Product analytics platform",icon:"\uD83D\uDCC8"},mysql:{name:"MySQL",description:"Popular relational database",icon:"\uD83D\uDC2C"},snowflake:{name:"Snowflake",description:"Cloud data platform",icon:"❄️"}};class ea{loadConnections(){{let e=localStorage.getItem("analytics-connections");if(e)try{this.connections=JSON.parse(e).map(e=>({...e,createdAt:new Date(e.createdAt),lastTested:e.lastTested?new Date(e.lastTested):void 0}))}catch(e){console.error("Failed to load connections:",e)}}}saveConnections(){localStorage.setItem("analytics-connections",JSON.stringify(this.connections))}getAllConnections(){return[...this.connections]}getConnection(e){return this.connections.find(t=>t.id===e)}getActiveConnections(){return this.connections.filter(e=>e.isActive&&"connected"===e.status)}addConnection(e){let t={...e,id:crypto.randomUUID(),createdAt:new Date,status:"disconnected"};return this.connections.push(t),this.saveConnections(),t}updateConnection(e,t){let s=this.connections.findIndex(t=>t.id===e);return -1===s?null:(this.connections[s]={...this.connections[s],...t},this.saveConnections(),this.connections[s])}deleteConnection(e){let t=this.connections.findIndex(t=>t.id===e);return -1!==t&&(this.connections.splice(t,1),this.saveConnections(),!0)}async testConnection(e){let t=this.getConnection(e);if(!t)return{success:!1,message:"Connection not found"};this.updateConnection(e,{status:"testing"});try{await new Promise(e=>setTimeout(e,2e3));let t=Math.random()>.3;return this.updateConnection(e,{status:t?"connected":"error",lastTested:new Date}),{success:t,message:t?"Connection successful":"Failed to connect. Please check your credentials."}}catch(t){return this.updateConnection(e,{status:"error"}),{success:!1,message:t instanceof Error?t.message:"Unknown error"}}}constructor(){this.connections=[],this.loadConnections()}}function er(e){let{selectedConnectionId:t,onConnectionChange:s}=e,[n,l]=(0,r.useState)([]),[o,i]=(0,r.useState)(!1),[c]=(0,r.useState)(()=>new ea),d=(0,r.useRef)(null);(0,r.useEffect)(()=>{x()},[]),(0,r.useEffect)(()=>{function e(e){d.current&&!d.current.contains(e.target)&&i(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let x=()=>{let e=c.getAllConnections();if(l(e),!t&&e.length>0){let t=e.find(e=>e.isActive&&"connected"===e.status);t&&s(t.id)}},u=n.find(e=>e.id===t),g=n.filter(e=>e.isActive),m=e=>{switch(e){case"connected":return(0,a.jsx)($.Z,{className:"h-3 w-3 text-green-500"});case"disconnected":default:return(0,a.jsx)(ee.Z,{className:"h-3 w-3 text-gray-400"});case"testing":return(0,a.jsx)(et.Z,{className:"h-3 w-3 text-blue-500 animate-spin"});case"error":return(0,a.jsx)(I.Z,{className:"h-3 w-3 text-red-500"})}},h=e=>{let t=es[e.type];return{name:e.name,type:(null==t?void 0:t.name)||e.type,icon:(null==t?void 0:t.icon)||"\uD83D\uDD17"}};return 0===g.length?(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700/30 rounded-lg",children:[(0,a.jsx)(I.Z,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),(0,a.jsxs)("span",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:["No connections available.",(0,a.jsx)("button",{onClick:()=>window.location.hash="#connections",className:"ml-1 underline hover:no-underline",children:"Add one"})]})]}):(0,a.jsxs)("div",{className:"relative",ref:d,children:[(0,a.jsxs)("button",{onClick:()=>i(!o),className:"flex items-center gap-2 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors min-w-[200px]",children:[(0,a.jsx)(A.Z,{className:"h-4 w-4 text-gray-500 dark:text-gray-400"}),u?(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,a.jsx)("span",{className:"text-lg",children:h(u).icon}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:h(u).name}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:h(u).type})]}),m(u.status)]}):(0,a.jsx)("div",{className:"flex-1 text-left",children:(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Select connection..."})}),(0,a.jsx)(Z.Z,{className:"h-4 w-4 text-gray-400"})]}),o&&(0,a.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 z-50 max-h-64 overflow-y-auto",children:[g.map(e=>{let r=h(e),n=e.id===t;return(0,a.jsxs)("button",{onClick:()=>{s(e.id),i(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-left hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors ".concat(n?"bg-blue-50 dark:bg-blue-900/20":""),children:[(0,a.jsx)("span",{className:"text-lg",children:r.icon}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium ".concat(n?"text-blue-700 dark:text-blue-300":"text-gray-900 dark:text-gray-100"),children:r.name}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.type})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[m(e.status),n&&(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]},e.id)}),0===g.length&&(0,a.jsx)("div",{className:"px-3 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No active connections found"})]})]})}function en(e){let{selectedConnectionId:t,onConnectionChange:s}=e;return(0,a.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"h-5 w-5 text-blue-500"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Analytics Chat"})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ask questions about your data in natural language"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(er,{selectedConnectionId:t,onConnectionChange:s}),(0,a.jsx)("button",{className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Help",children:(0,a.jsx)(X.Z,{className:"h-4 w-4"})}),(0,a.jsx)("button",{className:"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Settings",children:(0,a.jsx)(v.Z,{className:"h-4 w-4"})})]})]})})}var el=s(15432),eo=s(33101);let ei=[{id:"data-connector",title:"Data Connector",icon:"\uD83D\uDD0C",description:"OAuth or key-based connection to Supabase/PostHog/BigQuery",outcome:"Secure schema introspection",status:"pending",progress:0,details:["Configure database credentials","Test connection security","Validate schema access"]},{id:"schema-interpreter",title:"Schema Interpreter",icon:"\uD83E\uDDE0",description:"LLM agent identifies key entities (users, events, sessions) and metrics",outcome:"Converts structure → semantics",status:"pending",progress:0,details:["Analyze database schema","Identify key entities","Map relationships","Define semantic layer"]},{id:"monitor-builder",title:"Monitor Builder",icon:"⚙️",description:'From natural language ("Alert me if churn >5%") → generates query + cron job',outcome:"Autonomous monitoring",status:"pending",progress:0,details:["Parse monitoring requirements","Generate SQL queries","Set up scheduling","Configure thresholds"]},{id:"action-executor",title:"Action Executor",icon:"\uD83D\uDD14",description:"Executes triggers (Slack, email, HubSpot, billing API)",outcome:"Turns detection → action",status:"pending",progress:0,details:["Configure notification channels","Set up API integrations","Test trigger mechanisms","Validate action execution"]},{id:"chat-interface",title:"Chat Interface",icon:"\uD83D\uDCAC",description:"Unified conversation in web UI or Slack",outcome:"Human ↔ agent collaboration",status:"completed",progress:100,details:["Natural language processing","Context management","Response generation","Interactive visualizations"],isActive:!0}];class ec{getState(){return{...this.state}}updateCapability(e,t){this.state.capabilities=this.state.capabilities.map(s=>s.id===e?{...s,...t}:s),this.state.lastUpdated=new Date}setCapabilityStatus(e,t,s){this.updateCapability(e,{status:t,progress:s})}startWorkflow(){this.state.isRunning=!0,this.state.currentStep=0,this.state.lastUpdated=new Date}stopWorkflow(){this.state.isRunning=!1,this.state.lastUpdated=new Date}nextStep(){this.state.currentStep<this.state.capabilities.length-1&&(this.state.currentStep++,this.state.lastUpdated=new Date)}resetWorkflow(){this.state.capabilities=this.state.capabilities.map(e=>({...e,status:"chat-interface"===e.id?"completed":"pending",progress:"chat-interface"===e.id?100:0})),this.state.currentStep=0,this.state.isRunning=!1,this.state.lastUpdated=new Date}getActiveCapability(){return this.state.capabilities.find(e=>e.isActive)||null}getCurrentCapability(){return this.state.capabilities[this.state.currentStep]||null}constructor(e){this.state={capabilities:e||[...ei],currentStep:0,isRunning:!1,lastUpdated:new Date}}}function ed(e){let{onCapabilityClick:t,onWorkflowUpdate:s}=e,[n]=(0,r.useState)(()=>new ec),[l,o]=(0,r.useState)(n.getState()),[i,c]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{(()=>{let e=n.getState();o(e),null==s||s(e)})()},[n,s]);let x=e=>{null==t||t(e)},u=e=>{let t=new Set(i);t.has(e)?t.delete(e):t.add(e),c(t)},g=e=>{switch(e){case"completed":return(0,a.jsx)($.Z,{className:"h-4 w-4 text-green-500"});case"in-progress":return(0,a.jsx)(et.Z,{className:"h-4 w-4 text-blue-500 animate-spin"});case"error":return(0,a.jsx)(ee.Z,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(I.Z,{className:"h-4 w-4 text-gray-400"})}},m=(e,t)=>{if(t)return"border-blue-500 bg-blue-50 dark:bg-blue-900/20";switch(e){case"completed":return"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/20";case"in-progress":return"border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/20";case"error":return"border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20";default:return"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"}};return(0,a.jsxs)("div",{className:"w-80 bg-gray-50 dark:bg-gray-900 border-l border-gray-200 dark:border-gray-800 flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Growth Workflow"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{n.resetWorkflow(),o(n.getState())},className:"p-1.5 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",title:"Reset workflow",children:(0,a.jsx)(el.Z,{className:"h-4 w-4"})}),l.isRunning?(0,a.jsx)("button",{onClick:()=>{n.stopWorkflow(),o(n.getState())},className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-100 dark:hover:bg-red-900/20 rounded transition-colors",title:"Stop workflow",children:(0,a.jsx)(eo.Z,{className:"h-4 w-4"})}):(0,a.jsx)("button",{onClick:()=>{n.startWorkflow(),o(n.getState())},className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-100 dark:hover:bg-green-900/20 rounded transition-colors",title:"Start workflow",children:(0,a.jsx)(d.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Build and manage your analytics pipeline"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,a.jsx)("div",{className:"space-y-4",children:l.capabilities.map((e,t)=>{let s=i.has(e.id);l.currentStep;let r=t<l.capabilities.length-1;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer transition-all hover:shadow-md ".concat(m(e.status,e.isActive)),onClick:()=>x(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-2xl",children:e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.title}),e.isActive&&(0,a.jsx)("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium",children:"Currently Active"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[g(e.status),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),u(e.id)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s?(0,a.jsx)(Z.Z,{className:"h-4 w-4"}):(0,a.jsx)(w.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:["→ ",e.outcome]}),void 0!==e.progress&&e.progress>0&&(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mb-1",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[e.progress,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})})]}),s&&e.details&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Implementation Steps:"}),(0,a.jsx)("ul",{className:"space-y-1",children:e.details.map((e,t)=>(0,a.jsxs)("li",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full flex-shrink-0"}),e]},t))})]})]}),r&&(0,a.jsx)("div",{className:"flex justify-center my-2",children:(0,a.jsx)("div",{className:"w-0.5 h-6 bg-gray-300 dark:bg-gray-600"})})]},e.id)})})}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["Step ",l.currentStep+1," of ",l.capabilities.length]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[l.isRunning&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-xs",children:"Running"})]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Updated ",l.lastUpdated.toLocaleTimeString()]})]})]})})]})}let ex={"daily active users":{sql:"SELECT \n  DATE(created_at) as date,\n  COUNT(DISTINCT user_id) as daily_active_users\nFROM events \nWHERE created_at >= CURRENT_DATE - INTERVAL '30 days'\nGROUP BY DATE(created_at)\nORDER BY date;",data:[{date:"2024-10-01",daily_active_users:1250},{date:"2024-10-02",daily_active_users:1180},{date:"2024-10-03",daily_active_users:1320},{date:"2024-10-04",daily_active_users:1290},{date:"2024-10-05",daily_active_users:1150},{date:"2024-10-06",daily_active_users:980},{date:"2024-10-07",daily_active_users:1050},{date:"2024-10-08",daily_active_users:1380},{date:"2024-10-09",daily_active_users:1420},{date:"2024-10-10",daily_active_users:1350}],explanation:"This query shows daily active users over the last 30 days. We can see some fluctuation with weekends typically showing lower activity.",chartType:"line",chartConfig:{xAxis:"date",yAxis:"daily_active_users",dataKey:"daily_active_users"}},"activation rate":{sql:"SELECT \n  region,\n  COUNT(CASE WHEN events.event_name = 'activation_complete' THEN 1 END) * 100.0 / COUNT(DISTINCT users.id) as activation_rate\nFROM users \nLEFT JOIN events ON users.id = events.user_id\nWHERE users.created_at >= CURRENT_DATE - INTERVAL '30 days'\nGROUP BY region\nORDER BY activation_rate DESC;",data:[{region:"North America",activation_rate:68.5},{region:"Europe",activation_rate:62.3},{region:"Asia Pacific",activation_rate:58.7},{region:"Latin America",activation_rate:55.2},{region:"Other",activation_rate:51.8}],explanation:"Activation rates by region show North America leading at 68.5%, with opportunities for improvement in other regions.",chartType:"bar",chartConfig:{xAxis:"region",yAxis:"activation_rate",dataKey:"activation_rate"}},"top features":{sql:"SELECT \n  properties->>'feature_name' as feature_name,\n  COUNT(*) as usage_count\nFROM events \nWHERE event_name = 'feature_used' \n  AND created_at >= CURRENT_DATE - INTERVAL '7 days'\nGROUP BY properties->>'feature_name'\nORDER BY usage_count DESC\nLIMIT 10;",data:[{feature_name:"Dashboard",usage_count:15420},{feature_name:"Reports",usage_count:12350},{feature_name:"Analytics",usage_count:9870},{feature_name:"Settings",usage_count:8920},{feature_name:"Export",usage_count:7650},{feature_name:"Notifications",usage_count:6540},{feature_name:"Search",usage_count:5890},{feature_name:"Filters",usage_count:4320},{feature_name:"Integrations",usage_count:3210},{feature_name:"API Access",usage_count:2180}],explanation:"Top 10 features by usage in the last 7 days. Dashboard and Reports are the most popular features.",chartType:"bar",chartConfig:{xAxis:"feature_name",yAxis:"usage_count",dataKey:"usage_count"}}},eu=["What's the trend compared to last month?","Can you break this down by user segment?","Show me the same data for premium users only"];function eg(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(""),[l,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)([]),[d,x]=(0,r.useState)(null),[u,g]=(0,r.useState)(null),m=(0,r.useRef)(null),h=(0,r.useRef)(null),b=()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{b()},[e]);let p=e=>{let t=e.toLowerCase();return t.includes("daily active users")||t.includes("dau")?ex["daily active users"]:t.includes("activation rate")||t.includes("activation")?ex["activation rate"]:t.includes("top features")||t.includes("features")?ex["top features"]:null},y=async e=>{let a=e||s.trim();if(!a||l)return;let r={id:Date.now().toString(),role:"user",content:a,timestamp:new Date};t(e=>[...e,r]),e||n(""),o(!0),setTimeout(()=>{let e=p(a);if(e){c(eu);let s=d?" (Using connection: ".concat(d,")"):" (No connection selected - using demo data)",a={id:(Date.now()+1).toString(),role:"agent",content:e.explanation+s,queryResult:e,timestamp:new Date};t(e=>[...e,a])}else{let e={id:(Date.now()+1).toString(),role:"agent",content:"I understand you're asking about \"".concat(a,'". ').concat(d?"If you had a real connection selected (".concat(d,"), I would query that database. "):"Please select a connection from the dropdown above to query real data. ",'For now, try asking about "daily active users", "activation rate", or "top features" to see the demo in action!'),timestamp:new Date};t(t=>[...t,e])}o(!1)},1500)},f=e=>{y(e)},j=e=>{console.log("Pinning result:",e)};return(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-white dark:bg-gray-950",children:[(0,a.jsx)(en,{selectedConnectionId:d,onConnectionChange:x}),(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"flex-1 overflow-y-auto pb-32",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[0===e.length&&(0,a.jsx)("div",{className:"flex items-center justify-center h-[60vh]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,a.jsx)(A.Z,{className:"h-12 w-12 text-blue-500"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"Analytics Agent Demo"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg mb-4",children:"Ask questions about your data in natural language"}),(0,a.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700/30 rounded-lg p-4 mb-8 max-w-md mx-auto",children:(0,a.jsxs)("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm",children:[(0,a.jsx)("strong",{children:"Demo Mode:"})," This is using mock data. In production, it would connect to your actual database."]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl mx-auto",children:[(0,a.jsxs)("button",{onClick:()=>n("Show me daily active users for the last 30 days"),className:"flex items-center space-x-3 text-left px-4 py-4 bg-gray-100 dark:bg-gray-900 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-800 text-sm text-gray-700 dark:text-gray-300 transition-colors",children:[(0,a.jsx)(T.Z,{className:"h-5 w-5 text-blue-500"}),(0,a.jsx)("span",{children:"Show me daily active users for the last 30 days"})]}),(0,a.jsxs)("button",{onClick:()=>n("What is our activation rate by region?"),className:"flex items-center space-x-3 text-left px-4 py-4 bg-gray-100 dark:bg-gray-900 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-800 text-sm text-gray-700 dark:text-gray-300 transition-colors",children:[(0,a.jsx)(A.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("span",{children:"What is our activation rate by region?"})]}),(0,a.jsxs)("button",{onClick:()=>n("Show me the top 10 features by usage"),className:"flex items-center space-x-3 text-left px-4 py-4 bg-gray-100 dark:bg-gray-900 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-800 text-sm text-gray-700 dark:text-gray-300 transition-colors",children:[(0,a.jsx)(T.Z,{className:"h-5 w-5 text-purple-500"}),(0,a.jsx)("span",{children:"Show me the top 10 features by usage"})]}),(0,a.jsxs)("button",{onClick:()=>n("Alert me if conversion rate drops below 5%"),className:"flex items-center space-x-3 text-left px-4 py-4 bg-gray-100 dark:bg-gray-900 hover:bg-gray-200 dark:hover:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-800 text-sm text-gray-700 dark:text-gray-300 transition-colors",children:[(0,a.jsx)(I.Z,{className:"h-5 w-5 text-red-500"}),(0,a.jsx)("span",{children:"Try a custom query (demo response)"})]})]})]})}),e.map(e=>(0,a.jsx)("div",{className:"mb-8 flex ".concat("user"===e.role?"justify-end":"justify-start"),children:"user"===e.role?(0,a.jsx)("div",{className:"bg-blue-100 dark:bg-blue-600/20 text-gray-900 dark:text-gray-100 rounded-2xl px-4 py-3 max-w-[70%] border border-blue-200 dark:border-blue-500/30",children:(0,a.jsx)("p",{className:"text-sm leading-relaxed",children:e.content})}):(0,a.jsxs)("div",{className:"w-full max-w-[90%]",children:[(0,a.jsx)("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-2xl p-4 shadow-lg border border-gray-200 dark:border-gray-800 mb-4",children:(0,a.jsx)("p",{className:"text-sm leading-relaxed text-gray-800 dark:text-gray-200",children:e.content})}),e.queryResult&&(0,a.jsx)(Y,{result:e.queryResult,onFollowUp:f,onPin:j,followUpSuggestions:i})]})},e.id)),l&&(0,a.jsx)("div",{className:"flex justify-start mb-6",children:(0,a.jsx)("div",{className:"bg-gray-100 dark:bg-gray-900 rounded-2xl p-4 shadow-lg border border-gray-200 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]}),(0,a.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Analyzing your query and generating SQL..."})]})})}),(0,a.jsx)("div",{ref:m})]})}),(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-80 bg-white/90 dark:bg-gray-950/90 backdrop-blur-sm border-t border-gray-200 dark:border-gray-800",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-end gap-3",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("textarea",{ref:h,value:s,onChange:e=>n(e.target.value),onKeyDown:e=>{(e.metaKey||e.ctrlKey)&&"Enter"===e.key&&(e.preventDefault(),y())},placeholder:"Ask me anything about your data... (⌘+Enter to send)",className:"w-full bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 rounded-2xl px-4 py-3 pr-12 border border-gray-200 dark:border-gray-800 focus:border-blue-500 dark:focus:border-blue-400 focus:outline-none resize-none min-h-[52px] max-h-32 text-sm",rows:1,disabled:l})}),(0,a.jsx)("button",{onClick:()=>y(),disabled:!s.trim()||l,className:"flex items-center justify-center w-12 h-12 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-300 dark:disabled:bg-gray-800 disabled:text-gray-500 dark:disabled:text-gray-600 text-white rounded-2xl transition-colors",children:(0,a.jsx)(S.Z,{className:"h-5 w-5"})})]})})})]}),(0,a.jsx)(ed,{onCapabilityClick:e=>{let s={id:Date.now().toString(),role:"agent",content:"You clicked on **".concat(e.title,"** (").concat(e.icon,"). This capability handles: ").concat(e.description,". Current status: ").concat(e.status,". ").concat(e.isActive?"This is currently the active capability in your workflow.":""),timestamp:new Date};t(e=>[...e,s])},onWorkflowUpdate:e=>{g(e)}})]})]})}var em=s(92457),eh=s(90998),eb=s(25750),ep=function(){return(0,a.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,a.jsx)("div",{className:"border-b border-gray-800 px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-100",children:"Dashboards"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-0.5",children:"Monitor your key metrics and workflows"})]}),(0,a.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-medium transition-colors",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4"}),"Create Dashboard"]})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 max-w-7xl",children:[[{id:"1",title:"User Growth",description:"Daily and weekly user acquisition metrics",lastUpdated:"5 min ago",metrics:[{label:"DAU",value:"12,458",change:"+5.2%",trend:"up"},{label:"MAU",value:"89,234",change:"+12.1%",trend:"up"},{label:"New Signups",value:"1,234",change:"-2.3%",trend:"down"}]},{id:"2",title:"Activation Metrics",description:"User activation and onboarding funnel",lastUpdated:"12 min ago",metrics:[{label:"Activation Rate",value:"68%",change:"+3.1%",trend:"up"},{label:"Time to Activate",value:"2.4 days",change:"-0.3 days",trend:"up"}]}].map(e=>(0,a.jsxs)("div",{className:"bg-gray-900 rounded-2xl p-6 border border-gray-800 hover:border-gray-700 transition-colors cursor-pointer shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-100 mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]}),(0,a.jsx)("div",{className:"p-2 bg-gray-800 rounded-lg",children:(0,a.jsx)(em.Z,{className:"w-4 h-4 text-gray-400"})})]}),(0,a.jsx)("div",{className:"space-y-3 mb-4",children:e.metrics.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-950 rounded-lg border border-gray-800",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500 mb-1",children:e.label}),(0,a.jsx)("div",{className:"text-xl font-semibold text-gray-100",children:e.value})]}),e.change&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium ".concat("up"===e.trend?"text-green-500":"text-red-500"),children:["up"===e.trend?(0,a.jsx)(T.Z,{className:"w-4 h-4"}):(0,a.jsx)(eh.Z,{className:"w-4 h-4"}),e.change]})]},t))}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-gray-800",children:[(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["Updated ",e.lastUpdated]}),(0,a.jsx)("button",{className:"text-xs text-blue-400 hover:text-blue-300 font-medium",children:"View Details →"})]})]},e.id)),(0,a.jsxs)("button",{className:"bg-gray-900 rounded-2xl p-6 border-2 border-dashed border-gray-800 hover:border-gray-700 transition-colors cursor-pointer flex flex-col items-center justify-center min-h-[300px] text-gray-500 hover:text-gray-400",children:[(0,a.jsx)(o.Z,{className:"w-8 h-8 mb-3"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Create New Dashboard"}),(0,a.jsx)("span",{className:"text-xs mt-1",children:"Or ask the AI to build one for you"})]})]}),(0,a.jsxs)("div",{className:"mt-8 max-w-7xl",children:[(0,a.jsx)("h2",{className:"text-sm font-medium text-gray-400 mb-4",children:"QUICK INSIGHTS"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl p-4 border border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:(0,a.jsx)(eb.Z,{className:"w-4 h-4 text-blue-500"})}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"Total Users"})]}),(0,a.jsx)("div",{className:"text-2xl font-semibold text-gray-100",children:"124,567"})]}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl p-4 border border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-green-500/10 rounded-lg",children:(0,a.jsx)(eh.Z,{className:"w-4 h-4 text-green-500"})}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"Active Monitors"})]}),(0,a.jsx)("div",{className:"text-2xl font-semibold text-gray-100",children:"8"})]}),(0,a.jsxs)("div",{className:"bg-gray-900 rounded-xl p-4 border border-gray-800",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:(0,a.jsx)(T.Z,{className:"w-4 h-4 text-purple-500"})}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:"Workflows Running"})]}),(0,a.jsx)("div",{className:"text-2xl font-semibold text-gray-100",children:"12"})]})]})]})]})]})},ey=s(26104),ef=s(45367),ej=s(77216),ev=s(99670),eN=s(73067);function ew(e){var t,s;let{connection:n,onSave:l,onCancel:o}=e,[i,c]=(0,r.useState)((null==n?void 0:n.type)||"supabase"),[d,x]=(0,r.useState)({name:(null==n?void 0:n.name)||"",description:(null==n?void 0:n.description)||"",isActive:null===(s=null==n?void 0:n.isActive)||void 0===s||s,config:(null==n?void 0:n.config)||{}}),[u,g]=(0,r.useState)({}),[m,h]=(0,r.useState)({}),b=e=>{g(t=>({...t,[e]:!t[e]}))},p=(e,t)=>{x(s=>({...s,config:{...s.config,[e]:t}}))},y=()=>{let e={},t=d.config;switch(d.name.trim()||(e.name="Connection name is required"),i){case"supabase":t.url||(e.url="Supabase URL is required"),t.anonKey||(e.anonKey="Anonymous key is required");break;case"postgresql":case"mysql":t.host||(e.host="Host is required"),t.database||(e.database="Database name is required"),t.username||(e.username="Username is required"),t.password||(e.password="Password is required");break;case"bigquery":d.config.projectId||(e.projectId="Project ID is required"),d.config.datasetId||(e.datasetId="Dataset ID is required"),d.config.keyFile||(e.keyFile="Service account key is required");break;case"posthog":d.config.apiKey||(e.apiKey="API key is required"),d.config.host||(e.host="Host is required"),d.config.projectId||(e.projectId="Project ID is required");break;case"snowflake":d.config.account||(e.account="Account is required"),d.config.username||(e.username="Username is required"),d.config.password||(e.password="Password is required"),d.config.database||(e.database="Database is required"),d.config.warehouse||(e.warehouse="Warehouse is required")}return h(e),0===Object.keys(e).length};return(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-gray-950",children:[(0,a.jsx)("div",{className:"border-b border-gray-800 p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("button",{onClick:o,className:"flex items-center gap-2 text-gray-400 hover:text-gray-300",children:[(0,a.jsx)(eN.Z,{className:"h-4 w-4"}),"Back"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-100",children:n?"Edit Connection":"Add Connection"}),(0,a.jsx)("p",{className:"text-gray-400 mt-1",children:"Configure your data source connection"})]})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y()&&l({...d,type:i})},className:"space-y-6",children:[!n&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Connection Type"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(es).map(e=>{let[t,s]=e;return(0,a.jsxs)("button",{type:"button",onClick:()=>c(t),className:"p-4 rounded-lg border text-left transition-colors ".concat(i===t?"border-blue-500 bg-blue-500/10":"border-gray-700 bg-gray-800 hover:border-gray-600"),children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:s.icon}),(0,a.jsx)("div",{className:"font-medium text-gray-100",children:s.name}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:s.description})]},t)})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-100",children:"Basic Information"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Connection Name *"}),(0,a.jsx)("input",{type:"text",value:d.name,onChange:e=>x(t=>({...t,name:e.target.value})),placeholder:"My Production Database",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.name&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description (Optional)"}),(0,a.jsx)("textarea",{value:d.description,onChange:e=>x(t=>({...t,description:e.target.value})),placeholder:"Brief description of this connection",rows:2,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"isActive",checked:d.isActive,onChange:e=>x(t=>({...t,isActive:e.target.checked})),className:"mr-2"}),(0,a.jsx)("label",{htmlFor:"isActive",className:"text-sm text-gray-300",children:"Enable this connection"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-100",children:[null===(t=es[i])||void 0===t?void 0:t.name," Configuration"]}),(()=>{switch(i){case"supabase":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Supabase URL *"}),(0,a.jsx)("input",{type:"url",value:d.config.url||"",onChange:e=>p("url",e.target.value),placeholder:"https://your-project.supabase.co",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.url&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.url})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Anonymous Key *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:u.anonKey?"text":"password",value:d.config.anonKey||"",onChange:e=>p("anonKey",e.target.value),placeholder:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",className:"w-full px-3 py-2 pr-10 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),(0,a.jsx)("button",{type:"button",onClick:()=>b("anonKey"),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",children:u.anonKey?(0,a.jsx)(ej.Z,{className:"h-4 w-4"}):(0,a.jsx)(ev.Z,{className:"h-4 w-4"})})]}),m.anonKey&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.anonKey})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Service Role Key (Optional)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:u.serviceKey?"text":"password",value:d.config.serviceKey||"",onChange:e=>p("serviceKey",e.target.value),placeholder:"For admin operations (optional)",className:"w-full px-3 py-2 pr-10 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),(0,a.jsx)("button",{type:"button",onClick:()=>b("serviceKey"),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",children:u.serviceKey?(0,a.jsx)(ej.Z,{className:"h-4 w-4"}):(0,a.jsx)(ev.Z,{className:"h-4 w-4"})})]})]})]});case"postgresql":case"mysql":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Host *"}),(0,a.jsx)("input",{type:"text",value:d.config.host||"",onChange:e=>p("host",e.target.value),placeholder:"localhost",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.host&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.host})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Port"}),(0,a.jsx)("input",{type:"number",value:d.config.port||("postgresql"===i?5432:3306),onChange:e=>p("port",parseInt(e.target.value)),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Database *"}),(0,a.jsx)("input",{type:"text",value:d.config.database||"",onChange:e=>p("database",e.target.value),placeholder:"my_database",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.database&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.database})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username *"}),(0,a.jsx)("input",{type:"text",value:d.config.username||"",onChange:e=>p("username",e.target.value),placeholder:"username",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.username&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.username})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:u.password?"text":"password",value:d.config.password||"",onChange:e=>p("password",e.target.value),placeholder:"password",className:"w-full px-3 py-2 pr-10 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),(0,a.jsx)("button",{type:"button",onClick:()=>b("password"),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",children:u.password?(0,a.jsx)(ej.Z,{className:"h-4 w-4"}):(0,a.jsx)(ev.Z,{className:"h-4 w-4"})})]}),m.password&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.password})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"ssl",checked:d.config.ssl||!1,onChange:e=>p("ssl",e.target.checked),className:"mr-2"}),(0,a.jsx)("label",{htmlFor:"ssl",className:"text-sm text-gray-300",children:"Use SSL connection"})]})]});case"bigquery":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project ID *"}),(0,a.jsx)("input",{type:"text",value:d.config.projectId||"",onChange:e=>p("projectId",e.target.value),placeholder:"my-project-id",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.projectId&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.projectId})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Dataset ID *"}),(0,a.jsx)("input",{type:"text",value:d.config.datasetId||"",onChange:e=>p("datasetId",e.target.value),placeholder:"my_dataset",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.datasetId&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.datasetId})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Service Account Key (JSON) *"}),(0,a.jsx)("textarea",{value:d.config.keyFile||"",onChange:e=>p("keyFile",e.target.value),placeholder:'{"type": "service_account", "project_id": "...", ...}',rows:6,className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none font-mono text-sm"}),m.keyFile&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.keyFile})]})]});case"posthog":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"API Key *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:u.apiKey?"text":"password",value:d.config.apiKey||"",onChange:e=>p("apiKey",e.target.value),placeholder:"phc_...",className:"w-full px-3 py-2 pr-10 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),(0,a.jsx)("button",{type:"button",onClick:()=>b("apiKey"),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",children:u.apiKey?(0,a.jsx)(ej.Z,{className:"h-4 w-4"}):(0,a.jsx)(ev.Z,{className:"h-4 w-4"})})]}),m.apiKey&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.apiKey})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Host *"}),(0,a.jsx)("input",{type:"url",value:d.config.host||"https://app.posthog.com",onChange:e=>p("host",e.target.value),placeholder:"https://app.posthog.com",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.host&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.host})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Project ID *"}),(0,a.jsx)("input",{type:"text",value:d.config.projectId||"",onChange:e=>p("projectId",e.target.value),placeholder:"12345",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.projectId&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.projectId})]})]})]});case"snowflake":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Account *"}),(0,a.jsx)("input",{type:"text",value:d.config.account||"",onChange:e=>p("account",e.target.value),placeholder:"xy12345.us-east-1",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.account&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.account})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Warehouse *"}),(0,a.jsx)("input",{type:"text",value:d.config.warehouse||"",onChange:e=>p("warehouse",e.target.value),placeholder:"COMPUTE_WH",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.warehouse&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.warehouse})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Database *"}),(0,a.jsx)("input",{type:"text",value:d.config.database||"",onChange:e=>p("database",e.target.value),placeholder:"MY_DATABASE",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.database&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.database})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Schema"}),(0,a.jsx)("input",{type:"text",value:d.config.schema||"PUBLIC",onChange:e=>p("schema",e.target.value),placeholder:"PUBLIC",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username *"}),(0,a.jsx)("input",{type:"text",value:d.config.username||"",onChange:e=>p("username",e.target.value),placeholder:"username",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),m.username&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.username})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:u.password?"text":"password",value:d.config.password||"",onChange:e=>p("password",e.target.value),placeholder:"password",className:"w-full px-3 py-2 pr-10 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"}),(0,a.jsx)("button",{type:"button",onClick:()=>b("password"),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-300",children:u.password?(0,a.jsx)(ej.Z,{className:"h-4 w-4"}):(0,a.jsx)(ev.Z,{className:"h-4 w-4"})})]}),m.password&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:m.password})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Role (Optional)"}),(0,a.jsx)("input",{type:"text",value:d.config.role||"",onChange:e=>p("role",e.target.value),placeholder:"ACCOUNTADMIN",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:border-blue-500 focus:outline-none"})]})]});default:return null}})()]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 pt-6 border-t border-gray-800",children:[(0,a.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:n?"Update Connection":"Create Connection"}),(0,a.jsx)("button",{type:"button",onClick:o,className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-lg transition-colors",children:"Cancel"})]})]})})})]})}function ek(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!1),[l,i]=(0,r.useState)(null),[c]=(0,r.useState)(()=>new ea),[d,x]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{u()},[]);let u=()=>{t(c.getAllConnections())},g=e=>{i(e),n(!0)},m=e=>{confirm("Are you sure you want to delete this connection?")&&(c.deleteConnection(e),u())},h=async e=>{x(t=>new Set(t).add(e));try{let t=await c.testConnection(e);u(),t.success?alert("Connection successful!"):alert("Connection failed: ".concat(t.message))}catch(e){alert("Failed to test connection")}finally{x(t=>{let s=new Set(t);return s.delete(e),s})}},b=e=>{switch(e){case"connected":return(0,a.jsx)($.Z,{className:"h-4 w-4 text-green-500"});case"disconnected":default:return(0,a.jsx)(ee.Z,{className:"h-4 w-4 text-gray-500"});case"testing":return(0,a.jsx)(et.Z,{className:"h-4 w-4 text-blue-500 animate-spin"});case"error":return(0,a.jsx)(I.Z,{className:"h-4 w-4 text-red-500"})}},p=e=>{switch(e){case"connected":return"Connected";case"disconnected":return"Not connected";case"testing":return"Testing...";case"error":return"Connection error";default:return"Unknown"}};return s?(0,a.jsx)(ew,{connection:l,onSave:l?e=>{l&&(c.updateConnection(l.id,e),u(),n(!1),i(null))}:e=>{c.addConnection(e),u(),n(!1)},onCancel:()=>{n(!1),i(null)}}):(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-gray-950",children:[(0,a.jsx)("div",{className:"border-b border-gray-800 p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-100",children:"Data Connections"}),(0,a.jsx)("p",{className:"text-gray-400 mt-1",children:"Manage your data sources and database connections"})]}),(0,a.jsxs)("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),"Add Connection"]})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:0===e.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,a.jsx)(A.Z,{className:"h-16 w-16 text-gray-600 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-300 mb-2",children:"No connections yet"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6 max-w-md",children:"Connect to your databases and analytics platforms to start querying your data with natural language."}),(0,a.jsxs)("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),"Add Your First Connection"]})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{var t,s;return(0,a.jsxs)("div",{className:"bg-gray-900 rounded-lg border border-gray-800 p-6 hover:border-gray-700 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:(null===(t=es[e.type])||void 0===t?void 0:t.icon)||"\uD83D\uDD17"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-100",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:(null===(s=es[e.type])||void 0===s?void 0:s.name)||e.type})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:b(e.status)})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Status:"}),(0,a.jsx)("span",{className:"font-medium ".concat("connected"===e.status?"text-green-400":"error"===e.status?"text-red-400":"testing"===e.status?"text-blue-400":"text-gray-400"),children:p(e.status)})]}),e.description&&(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Active:"}),(0,a.jsx)("span",{className:e.isActive?"text-green-400":"text-gray-400",children:e.isActive?"Yes":"No"})]}),e.lastTested&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Last tested:"}),(0,a.jsx)("span",{className:"text-gray-400",children:e.lastTested.toLocaleDateString()})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{onClick:()=>h(e.id),disabled:d.has(e.id),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-gray-800 hover:bg-gray-700 text-gray-300 rounded transition-colors disabled:opacity-50",children:[(0,a.jsx)(ey.Z,{className:"h-3 w-3"}),d.has(e.id)?"Testing...":"Test"]}),(0,a.jsxs)("button",{onClick:()=>g(e),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-gray-800 hover:bg-gray-700 text-gray-300 rounded transition-colors",children:[(0,a.jsx)(v.Z,{className:"h-3 w-3"}),"Edit"]}),(0,a.jsxs)("button",{onClick:()=>m(e.id),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-red-900/20 hover:bg-red-900/30 text-red-400 rounded transition-colors",children:[(0,a.jsx)(ef.Z,{className:"h-3 w-3"}),"Delete"]})]})]},e.id)})})})]})}var eC=s(90965),eS=s(25119),eD=s(80820),eA=s(44135),eT=s(93088);function eI(){let[e,t]=(0,r.useState)(!1),[s,n]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{n(!0);let e=localStorage.getItem("analytics-theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches,a=e?"dark"===e:s;t(a),a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]),s)?(0,a.jsx)("button",{onClick:()=>{let s=!e;t(s),s?(document.documentElement.classList.add("dark"),localStorage.setItem("analytics-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("analytics-theme","light"))},className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 transition-all duration-200 border border-gray-300 dark:border-gray-600 min-w-[80px]",title:"Switch to ".concat(e?"light":"dark"," mode"),children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eA.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Light"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eT.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Dark"})]})}):(0,a.jsx)("div",{className:"w-20 h-10 bg-gray-200 dark:bg-gray-700 rounded-lg animate-pulse"})}var eE=function(e){let{currentView:t,onViewChange:s}=e;return(0,a.jsxs)("div",{className:"w-64 bg-gray-50 dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800 flex flex-col transition-colors",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.Z,{className:"w-5 h-5 text-blue-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Analytics Agent"}),(0,a.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Natural language data insights"})]})]}),(0,a.jsx)("div",{className:"flex-shrink-0 ml-2",children:(0,a.jsx)(eI,{})})]})}),(0,a.jsxs)("nav",{className:"flex-1 p-3",children:[(0,a.jsxs)("button",{onClick:()=>s("workflow"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors mb-1 ".concat("workflow"===t?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,a.jsx)(eC.Z,{className:"w-4 h-4"}),"Workflow Builder"]}),(0,a.jsxs)("button",{onClick:()=>s("chat"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors mb-1 ".concat("chat"===t?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,a.jsx)(C.Z,{className:"w-4 h-4"}),"Chat"]}),(0,a.jsxs)("button",{onClick:()=>s("dashboards"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors mb-1 ".concat("dashboards"===t?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,a.jsx)(eS.Z,{className:"w-4 h-4"}),"Dashboards"]}),(0,a.jsxs)("button",{onClick:()=>s("connections"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm transition-colors mb-1 ".concat("connections"===t?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,a.jsx)(eD.Z,{className:"w-4 h-4"}),"Connections"]}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-800",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-500 px-3 mb-2",children:"ACTIVE MONITORS"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"px-3 py-2 rounded-lg text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 cursor-pointer transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Daily Active Users"]})}),(0,a.jsx)("div",{className:"px-3 py-2 rounded-lg text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 cursor-pointer transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full"}),"Conversion Rate"]})}),(0,a.jsx)("div",{className:"px-3 py-2 rounded-lg text-xs text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 cursor-pointer transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),"Churn Alert"]})})]})]})]}),(0,a.jsx)("div",{className:"p-3 border-t border-gray-200 dark:border-gray-800",children:(0,a.jsxs)("button",{className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-200 transition-colors",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4"}),"Settings"]})})]})};function e_(){let[e,t]=(0,r.useState)("workflow");return(0,a.jsxs)("div",{className:"min-h-screen bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 flex transition-colors",children:[(0,a.jsx)(eE,{currentView:e,onViewChange:t}),(0,a.jsxs)("div",{className:"flex-1",children:["workflow"===e&&(0,a.jsx)(D,{}),"chat"===e&&(0,a.jsx)(eg,{}),"dashboards"===e&&(0,a.jsx)(ep,{}),"connections"===e&&(0,a.jsx)(ek,{})]})]})}}},function(e){e.O(0,[167,152,971,472,744],function(){return e(e.s=85078)}),_N_E=e.O()}]);